!function(P,Y,N,q){"use strict";P.fn.pagepiling=function(e){var v,i=P.fn.pagepiling,a=P(this),u=0,n="ontouchstart"in N||0<navigator.msMaxTouchPoints||navigator.maxTouchPoints,s=0,c=0,r=0,l=0,p=[],t=600,h=P.extend(!0,{direction:"vertical",menu:null,verticalCentered:!0,sectionsColor:[],anchors:[],scrollingSpeed:700,easing:"easeInQuart",loopBottom:!1,loopTop:!1,css3:!0,navigation:{textColor:"#000",bulletsColor:"#000",position:"right",tooltips:[]},normalScrollElements:null,normalScrollElementTouchThreshold:5,touchSensitivity:5,keyboardScrolling:!0,sectionSelector:".section",animateAnchor:!1,afterLoad:null,onLeave:null,afterRender:null},e);P.extend(P.easing,{easeInQuart:function(e,n,t,o,i){return o*(n/=i)*n*n*n+t}}),i.setScrollingSpeed=function(e){h.scrollingSpeed=e},i.setMouseWheelScrolling=function(e){e?a.get(0).addEventListener?(a.get(0).addEventListener("mousewheel",y,!1),a.get(0).addEventListener("wheel",y,!1)):a.get(0).attachEvent("onmousewheel",y):a.get(0).addEventListener?(a.get(0).removeEventListener("mousewheel",y,!1),a.get(0).removeEventListener("wheel",y,!1)):a.get(0).detachEvent("onmousewheel",y)},i.setAllowScrolling=function(e){e?(i.setMouseWheelScrolling(!0),function(){{var e;n&&(e=k(),a.off("touchstart "+e.down).on("touchstart "+e.down,D),a.off("touchmove "+e.move).on("touchmove "+e.move,I))}}()):(i.setMouseWheelScrolling(!1),function(){{var e;n&&(e=k(),a.off("touchstart "+e.down),a.off("touchmove "+e.move))}}())},i.setKeyboardScrolling=function(e){h.keyboardScrolling=e},i.moveSectionUp=function(){var e=P(".pp-section.active").prev(".pp-section");!e.length&&h.loopTop&&(e=P(".pp-section").last()),e.length&&d(e)},i.moveSectionDown=function(){var e=P(".pp-section.active").next(".pp-section");!e.length&&h.loopBottom&&(e=P(".pp-section").first()),e.length&&d(e)},i.moveTo=function(e){var n="";0<(n=isNaN(e)?P(Y).find('[data-anchor="'+e+'"]'):P(".pp-section").eq(e-1)).length&&d(n)},P(h.sectionSelector).each(function(){P(this).addClass("pp-section")}),h.css3&&(h.css3=function(){var e,n=Y.createElement("p"),t={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var o in Y.body.insertBefore(n,null),t)n.style[o]!==q&&(n.style[o]="translate3d(1px,1px,1px)",e=N.getComputedStyle(n).getPropertyValue(t[o]));return Y.body.removeChild(n),e!==q&&0<e.length&&"none"!==e}()),P(a).css({overflow:"hidden","-ms-touch-action":"none","touch-action":"none"}),i.setAllowScrolling(!0),P.isEmptyObject(h.navigation)||function(){P("body").append('<div id="pp-nav"><ul></ul></div>');var e=P("#pp-nav");e.css("color",h.navigation.textColor),e.addClass(h.navigation.position);for(var n=0;n<P(".pp-section").length;n++){var t,o="";h.anchors.length&&(o=h.anchors[n]),"undefined"===h.navigation.tooltips||void 0===(t=h.navigation.tooltips[n])&&(t=""),e.find("ul").append('<li data-tooltip="'+t+'"><a href="#'+o+'"><span></span></a></li>')}e.find("span").css("border-color",h.navigation.bulletsColor)}();var o=P(".pp-section").length;function d(e,n){var t,o,i,a,s,c,r,l,p,d={destination:e,animated:n,activeSection:P(".pp-section.active"),anchorLink:e.data("anchor"),sectionIndex:e.index(".pp-section"),toMove:e,yMovement:(t=e,o=P(".pp-section.active").index(".pp-section"),t.index(".pp-section")<o?"up":"down"),leavingSection:P(".pp-section.active").index(".pp-section")+1};d.activeSection.is(e)||(void 0===d.animated&&(d.animated=!0),void 0!==d.anchorLink&&(i=d.anchorLink,a=d.sectionIndex,h.anchors.length?(location.hash=i,S(location.hash)):S(String(a))),d.destination.addClass("active").siblings().removeClass("active"),d.sectionsToMove=function(n){var e;e="down"===n.yMovement?P(".pp-section").map(function(e){if(e<n.destination.index(".pp-section"))return P(this)}):P(".pp-section").map(function(e){if(e>n.destination.index(".pp-section"))return P(this)});return e}(d),"down"===d.yMovement?(d.translate3d=X(),d.scrolling="-100%",h.css3||d.sectionsToMove.each(function(e){e!=d.activeSection.index(".pp-section")&&P(this).css(g(d.scrolling))}),d.animateSection=d.activeSection):(d.translate3d="translate3d(0px, 0px, 0px)",d.scrolling="0",d.animateSection=e),P.isFunction(h.onLeave)&&h.onLeave.call(this,d.leavingSection,d.sectionIndex+1,d.yMovement),s=d,h.css3?(b(s.animateSection,s.translate3d,s.animated),s.sectionsToMove.each(function(){b(P(this),s.translate3d,s.animated)}),setTimeout(function(){f(s)},h.scrollingSpeed)):(s.scrollOptions=g(s.scrolling),s.animated?s.animateSection.animate(s.scrollOptions,h.scrollingSpeed,h.easing,function(){m(s),f(s)}):(s.animateSection.css(g(s.scrolling)),setTimeout(function(){m(s),f(s)},400))),c=d.anchorLink,h.menu&&(P(h.menu).find(".active").removeClass("active"),P(h.menu).find('[data-menuanchor="'+c+'"]').addClass("active")),r=d.anchorLink,l=d.sectionIndex,h.navigation&&(P("#pp-nav").find(".active").removeClass("active"),r?P("#pp-nav").find('a[href="#'+r+'"]').addClass("active"):P("#pp-nav").find("li").eq(l).find("a").addClass("active")),v=d.anchorLink,p=(new Date).getTime(),u=p)}function f(e){P.isFunction(h.afterLoad)&&h.afterLoad.call(this,e.anchorLink,e.sectionIndex+1)}function m(n){"up"===n.yMovement&&n.sectionsToMove.each(function(e){P(this).css(g(n.scrolling))})}function g(e){return"vertical"===h.direction?{top:e}:{left:e}}function S(e){e=e.replace("#",""),P("body")[0].className=P("body")[0].className.replace(/\b\s?pp-viewing-[^\s]+\b/g,""),P("body").addClass("pp-viewing-"+e)}function w(){return(new Date).getTime()-u<t+h.scrollingSpeed}function b(e,n,t){var o;e.toggleClass("pp-easing",t),e.css({"-webkit-transform":o=n,"-moz-transform":o,"-ms-transform":o,transform:o})}P(".pp-section").each(function(e){P(this).data("data-index",e),P(this).css("z-index",o),e||0!==P(".pp-section.active").length||P(this).addClass("active"),void 0!==h.anchors[e]&&P(this).attr("data-anchor",h.anchors[e]),void 0!==h.sectionsColor[e]&&P(this).css("background-color",h.sectionsColor[e]),h.verticalCentered&&!P(this).hasClass("pp-scrollable")&&P(this).addClass("pp-table").wrapInner('<div class="pp-tableCell" style="height:100%" />'),--o}).promise().done(function(){h.navigation&&(P("#pp-nav").css("margin-top","-"+P("#pp-nav").height()/2+"px"),P("#pp-nav").find("li").eq(P(".pp-section.active").index(".pp-section")).find("a").addClass("active")),P(N).on("load",function(){var e,n;e=N.location.hash.replace("#",""),0<(n=P(Y).find('.pp-section[data-anchor="'+e+'"]')).length&&d(n,h.animateAnchor)}),P.isFunction(h.afterRender)&&h.afterRender.call(this)}),P(N).on("hashchange",function(){var e=N.location.hash.replace("#","").split("/")[0];e.length&&e&&e!==v&&d(isNaN(e)?P(Y).find('[data-anchor="'+e+'"]'):P(".pp-section").eq(e-1))}),P(Y).keydown(function(e){if(h.keyboardScrolling&&!w())switch(e.which){case 38:case 33:i.moveSectionUp();break;case 40:case 34:i.moveSectionDown();break;case 36:i.moveTo(1);break;case 35:i.moveTo(P(".pp-section").length);break;case 37:i.moveSectionUp();break;case 39:i.moveSectionDown();break;default:return}}),h.normalScrollElements&&(P(Y).on("mouseenter",h.normalScrollElements,function(){i.setMouseWheelScrolling(!1)}),P(Y).on("mouseleave",h.normalScrollElements,function(){i.setMouseWheelScrolling(!0)}));var x=(new Date).getTime();function y(e){var n=(new Date).getTime(),t=(e=e||N.event).wheelDelta||-e.deltaY||-e.detail,o=Math.max(-1,Math.min(1,t)),i=void 0!==e.wheelDeltaX||void 0!==e.deltaX,a=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!i;149<p.length&&p.shift(),p.push(Math.abs(t));var s=n-x;if(x=n,200<s&&(p=[]),!w()){var c=C(P(".pp-section.active")),r=M(p,10);return M(p,70)<=r&&a&&(o<0?T("down",c):0<o&&T("up",c)),!1}}function M(e,n){for(var t=0,o=e.slice(Math.max(e.length-n,1)),i=0;i<o.length;i++)t+=o[i];return Math.ceil(t/n)}function T(e,n){var t,o="down"==e?(t="bottom",i.moveSectionDown):(t="top",i.moveSectionUp);if(0<n.length){if(!function(e,n){{if("top"===e)return!n.scrollTop();if("bottom"===e)return n.scrollTop()+1+n.innerHeight()>=n[0].scrollHeight}}(t,n))return 1;o()}else o()}function C(e){return e.filter(".pp-scrollable")}function k(){var e=N.PointerEvent?{down:"pointerdown",move:"pointermove",up:"pointerup"}:{down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp"};return e}function E(e){var n=new Array;return n.y=void 0!==e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,n.x=void 0!==e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,n}function L(e){return void 0===e.pointerType||"mouse"!=e.pointerType}function D(e){var n,t=e.originalEvent;L(t)&&(n=E(t),s=n.y,c=n.x)}function I(e){var n,t,o=e.originalEvent;!function e(n,t){t=t||0;var o=P(n).parent();return!!(t<h.normalScrollElementTouchThreshold&&o.is(h.normalScrollElements))||t!=h.normalScrollElementTouchThreshold&&e(o,++t)}(e.target)&&L(o)&&((n=C(P(".pp-section.active"))).length||e.preventDefault(),w()||(t=E(o),r=t.y,l=t.x,"horizontal"===h.direction&&Math.abs(c-l)>Math.abs(s-r)?Math.abs(c-l)>a.width()/100*h.touchSensitivity&&(l<c?T("down",n):c<l&&T("up",n)):Math.abs(s-r)>a.height()/100*h.touchSensitivity&&(r<s?T("down",n):s<r&&T("up",n))))}function X(){return"vertical"!==h.direction?"translate3d(-100%, 0px, 0px)":"translate3d(0px, -100%, 0px)"}P(Y).on("click touchstart","#pp-nav a",function(e){e.preventDefault();var n=P(this).parent().index();d(P(".pp-section").eq(n))}),P(Y).on({mouseenter:function(){var e=P(this).data("tooltip");P('<div class="pp-tooltip '+h.navigation.position+'">'+e+"</div>").hide().appendTo(P(this)).fadeIn(200)},mouseleave:function(){P(this).find(".pp-tooltip").fadeOut(200,function(){P(this).remove()})}},"#pp-nav li")}}(jQuery,document,window),$(document).ready(function(){$("#mutebtn").click(function(){console.log("mute"),$("body audio").muted=!0})});